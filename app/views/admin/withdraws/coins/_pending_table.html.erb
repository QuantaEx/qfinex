<%= table_for withdraws, class: 'table table-bordered table-striped', model: Withdraws::Coin do |t| %>
  <% t.column :id, 'Withdrawal ID' %>
  <% t.column 'TXID' do |x| %>
    <a href="<%= x.transaction_url %>" target="_blank">
      <code class="text-info"><%= x.txid%></code>
    </a>
  <% end %>
  <% t.column :created_at, 'Created At' %>
  <% t.column 'Currency' do |x| %>
    <%= x.currency.code.upcase %>
  <% end %>
  <% t.column 'Member Email' do |x| %>
    <%= link_to x.member.email, url_for([:admin, x.member]) %>
  <% end %>
  <% t.column 'Withdraw Address' do |x| %>
    <a href="<%= x.wallet_url %>" target="_blank" ><%= x.rid.truncate(22) %></a>
  <% end %>
  <% t.column 'Amount' do |x| %>
    <code class="text-info"><%= x.amount %></code>
  <% end %>
  <% t.column 'State/Actions' do |x| %>
    <span><%= x.aasm_state.humanize %> | </span>
    <% if can? :write, Withdraw %>
      <span><%= link_to 'Process',
                            admin_withdraw_path(x.currency.code, x, event: 'process'),
                            method: 'PATCH' %> | </span>
    <% end %>
    <%= link_to 'View', admin_withdraw_path(currency: x.currency.code, id: x) %>
  <% end %>
<% end %>
